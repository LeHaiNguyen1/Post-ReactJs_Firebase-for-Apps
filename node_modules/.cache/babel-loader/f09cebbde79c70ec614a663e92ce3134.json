{"ast":null,"code":"var _jsxFileName = \"/Users/lifetech/training-intern-032022/react-firestore/nguyenlehai/src/components/auth/RegiterEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { auth, db } from \"../../firebaseConfig\";\nimport { collection, doc, getDocs, onSnapshot, serverTimestamp } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegiterEdit() {\n  _s();\n\n  const [name, setName] = useState('');\n  const [dod, setDod] = useState(\"\");\n  const [post, setPost] = useState([]);\n  useEffect(() => {\n    const docRef = db.collection(\"users\").doc(auth.currentUser.uid);\n    onSnapshot(docRef, snapshot => {\n      setPost({ ...snapshot.data(),\n        id: snapshot.id\n      });\n    });\n  }, []);\n\n  const handleSignup = async () => {\n    db.collection(\"users\").doc(auth.currentUser.uid).update({\n      name: name,\n      dod: dod,\n      update_at: serverTimestamp()\n    });\n    alert(\"Updated successfully\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border p-3 bg-light \",\n    style: {\n      marginTop: 70\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: post.name,\n        onChange: e => {\n          setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Birthday\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: post.dod,\n        type: \"date\",\n        className: \"form-control\",\n        onChange: e => {\n          setDod(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: handleSignup,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RegiterEdit, \"Hjgmq/+4Amj2cjRZRLQ2e+3af+s=\");\n\n_c = RegiterEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegiterEdit\");","map":{"version":3,"sources":["/Users/lifetech/training-intern-032022/react-firestore/nguyenlehai/src/components/auth/RegiterEdit.jsx"],"names":["React","useEffect","useState","auth","db","collection","doc","getDocs","onSnapshot","serverTimestamp","RegiterEdit","name","setName","dod","setDod","post","setPost","docRef","currentUser","uid","snapshot","data","id","handleSignup","update","update_at","alert","marginTop","e","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,IAAR,EAAcC,EAAd,QAAuB,sBAAvB;AACA,SAAQC,UAAR,EAAoBC,GAApB,EAAyBC,OAAzB,EAAiCC,UAAjC,EAA4CC,eAA5C,QAAkE,oBAAlE;;AAGA,eAAe,SAASC,WAAT,GAAuB;AAAA;;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMgB,MAAM,GAAGb,EAAE,CAACC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BH,IAAI,CAACe,WAAL,CAAiBC,GAA5C,CAAf;AACAX,IAAAA,UAAU,CAACS,MAAD,EAAUG,QAAD,IAAc;AAC7BJ,MAAAA,OAAO,CAAC,EACJ,GAAGI,QAAQ,CAACC,IAAT,EADC;AAEJC,QAAAA,EAAE,EAAEF,QAAQ,CAACE;AAFT,OAAD,CAAP;AAGH,KAJS,CAAV;AAMH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMC,YAAY,GAAG,YAAY;AAC7BnB,IAAAA,EAAE,CAACC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BH,IAAI,CAACe,WAAL,CAAiBC,GAA5C,EAAiDK,MAAjD,CAAwD;AACpDb,MAAAA,IAAI,EAAEA,IAD8C;AAEpDE,MAAAA,GAAG,EAAEA,GAF+C;AAGpDY,MAAAA,SAAS,EAAEhB,eAAe;AAH0B,KAAxD;AAKAiB,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACH,GAPD;;AAQA,sBACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAsC,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAE;AAAZ,KAA7C;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,WAAW,EAAEZ,IAAI,CAACJ,IAHtB;AAII,QAAA,QAAQ,EAAGiB,CAAD,IAAO;AACbhB,UAAAA,OAAO,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACH;AANL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAaI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACI,QAAA,KAAK,EAAEf,IAAI,CAACF,GADhB;AAEI,QAAA,IAAI,EAAC,MAFT;AAGI,QAAA,SAAS,EAAC,cAHd;AAII,QAAA,QAAQ,EAAGe,CAAD,IAAO;AACbd,UAAAA,MAAM,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACH;AANL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ,eAwBI;AAAA;AAAA;AAAA;AAAA,YAxBJ,eAyBI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAoC,MAAA,OAAO,EAAEP,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiCH;;GAxDuBb,W;;KAAAA,W","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {auth, db} from \"../../firebaseConfig\";\nimport {collection, doc, getDocs,onSnapshot,serverTimestamp} from \"firebase/firestore\";\n\n\nexport default function RegiterEdit() {\n    const [name, setName] = useState('');\n    const [dod, setDod] = useState(\"\");\n    const [post, setPost] = useState([])\n\n    useEffect(() => {\n        const docRef = db.collection(\"users\").doc(auth.currentUser.uid)\n        onSnapshot(docRef, (snapshot) => {\n            setPost({\n                ...snapshot.data(),\n                id: snapshot.id });\n        });\n\n    }, []);\n\n    const handleSignup = async () => {\n        db.collection(\"users\").doc(auth.currentUser.uid).update({\n            name: name,\n            dod: dod,\n            update_at: serverTimestamp()\n        })\n        alert(\"Updated successfully\");\n    };\n    return (\n        <div className=\"border p-3 bg-light \" style={{marginTop: 70}}>\n            <h1>User information</h1>\n            <div className=\"form-group\">\n                <label>Name</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder={post.name}\n                    onChange={(e) => {\n                        setName(e.target.value);\n                    }}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label>Birthday</label>\n                <input\n                    value={post.dod}\n                    type=\"date\"\n                    className=\"form-control\"\n                    onChange={(e) => {\n                        setDod(e.target.value);\n                    }}\n                />\n            </div>\n            <br/>\n            <button className=\"btn btn-primary\" onClick={handleSignup}>\n                Update\n            </button>\n        </div>\n\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}